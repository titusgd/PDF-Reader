# 📚 PDF 閱讀器 - 多種文字選取模式使用指南

## 🎉 新功能：三種選取模式

為了解決矩形框選取不夠精確的問題，我們新增了三種靈活的文字選取模式！

---

## 🔲 模式一：矩形拖曳選取（傳統）

### 適用場景
- 選取大段落文字
- 選取多行內容
- 選取整個 Abstract 或 Introduction

### 使用步驟
1. 在翻譯面板選擇 **「🔲 矩形拖曳選取（傳統）」**
2. 在 PDF 頁面上**按住**滑鼠左鍵
3. **拖曳**形成矩形框
4. **釋放**滑鼠完成選取
5. 文字自動填入原文框

### 視覺效果
- 拖曳時顯示藍色虛線框
- 半透明藍色填充
- 即時顯示選取範圍

### 游標樣式
十字游標 ✛

---

## 👆 模式二：點擊快速選取（推薦小段文字）

### 適用場景
- 快速翻譯單個單詞
- 翻譯一小段句子
- 快速查詞

### 使用步驟
1. 在翻譯面板選擇 **「👆 點擊快速選取」**
2. **直接點擊**要翻譯的文字位置
3. 系統自動選取周圍約 200x30 像素的範圍
4. 文字自動填入原文框

### 視覺效果
- 無視覺效果（即時完成）
- 直接顯示結果

### 游標樣式
指向手勢 👆

### 選取範圍
- 寬度：200 像素（PDF 座標）
- 高度：30 像素
- 以點擊位置為中心

### 範例
```
點擊 "detection" → 選取 "Human detection has several"
點擊 "AI" → 選取 "Artificial Intelligence (AI)"
```

---

## 📏 模式三：兩點定範圍選取（最精確）

### 適用場景
- 精確選取特定範圍的文字
- 選取不規則區域
- 從某個詞到另一個詞

### 使用步驟
1. 在翻譯面板選擇 **「📏 兩點定範圍選取」**
2. **第一次點擊**：選取範圍的**起點**（例如段落開頭）
   - 會顯示一個藍點標記
3. **移動滑鼠**：移到選取範圍的**終點**
   - 會顯示預覽框和提示文字
4. **第二次點擊**：確定選取範圍的**終點**
   - 完成選取，文字填入原文框

### 視覺效果
- 第一個點：藍色圓點 ●
- 預覽框：藍色虛線矩形 + 半透明填充
- 提示文字：「點擊確定範圍」

### 游標樣式
I 型游標 |

### 取消操作
- 按 **ESC** 鍵取消當前選取
- 重新開始選取

### 範例
```
第一次點擊 → "Abstract." 的 A
移動滑鼠 → "Keywords" 的 s
第二次點擊 → 完成選取整個摘要
```

---

## 🎯 選擇建議

| 需求 | 推薦模式 | 原因 |
|------|---------|------|
| 翻譯整段文字 | 🔲 矩形 | 可以控制大範圍 |
| 快速查單詞 | 👆 點擊 | 一鍵完成 |
| 精確選取範圍 | 📏 範圍 | 兩點定位最準 |
| 選取表格內容 | 📏 範圍 或 👆 點擊 | 看儲存格大小 |
| 選取標題 | 👆 點擊 | 通常一行就夠 |

---

## 💻 實際操作示範

### 示範 1：翻譯論文標題

```
1. 切換到「👆 點擊快速選取」
2. 點擊標題 "The Application of Human Detection"
3. 查看翻譯結果
```

### 示範 2：翻譯整個 Abstract

```
1. 切換到「📏 兩點定範圍選取」
2. 點擊 "Abstract" 的開頭
3. 移動到 "Keywords" 的結尾
4. 再點擊一次確定
5. 查看翻譯結果
```

### 示範 3：翻譯多個單詞

```
1. 切換到「👆 點擊快速選取」
2. 點擊 "Human" → 翻譯
3. 點擊 "detection" → 翻譯
4. 點擊 "algorithm" → 翻譯
（每次點擊都會更新翻譯）
```

---

## 🔧 進階技巧

### 技巧 1：微調選取範圍

即使選取不完美，您也可以：
1. 在**原文框**中**直接編輯**文字
2. 刪除多餘的部分
3. 添加遺漏的部分
4. 再點擊翻譯

### 技巧 2：組合不同模式

```
1. 用「點擊模式」快速確認是否選對位置
2. 如果不對，切換到「範圍模式」精確選取
3. 對於整頁翻譯，直接使用選單的「翻譯目前頁面」
```

### 技巧 3：處理複雜排版

對於多欄佈局或表格：
- 使用「📏 範圍選取」最準確
- 每一欄/儲存格單獨選取
- 或在原文框中手動組合

---

## ⚙️ 自訂設定

### 調整點擊選取的靈敏度

編輯 `src/pdf_viewer.py` 第 267-269 行：

```python
# 針對大字體 PDF
width = 300  # 更大範圍
height = 50

# 針對小字體 PDF
width = 150  # 更小範圍
height = 20

# 針對表格
width = 100  # 窄範圍
height = 30  # 適中高度
```

---

## ❓ 常見問題

### Q: 為什麼點擊選取總是選到不要的文字？

A: 
1. 選取範圍可能太大，請調整 width/height
2. 或切換到「範圍選取」模式更精確
3. 或在原文框中編輯刪除不要的部分

### Q: 範圍選取點錯第一個點怎麼辦？

A: 按 **ESC** 鍵取消，重新點擊

### Q: 可以同時使用多種模式嗎？

A: 可以隨時切換，每種模式獨立運作

### Q: 選取後如何修改？

A: 直接在原文框中編輯文字即可

---

## 🎬 開始使用

1. 啟動應用程式：`python main.py`
2. 開啟 PDF 文件
3. 切換到側邊欄的「翻譯」分頁
4. 選擇您喜歡的選取模式
5. 開始選取和翻譯！

享受更靈活、更精確的文字選取體驗！ 🎉

